const drawing_depth = [0.0, 9.9, 16.0, 23.7, 32.8, 38.6, 47.0, 54.2, 60.3, 65.1, 71.1, 73.2, 76.8, 80.2, 84.8, 88.5, 90.5, 90.3, 88.2, 89.2, 90.5, 93.0, 95.9, 98.3, 101.7, 105.2, 108.1, 111.2, 112.9, 113.0, 113.4, 113.8, 113.7, 114.4, 114.1, 113.6, 114.8, 115.6, 114.0, 115.6, 112.4, 108.9, 106.5, 103.5, 99.8, 98.5, 101.7, 105.4, 108.7, 108.2, 108.8, 107.0, 104.7, 101.3, 100.5, 100.1, 99.6, 100.6, 99.5, 98.3, 97.9, 95.4, 92.6, 91.0, 83.3, 82.6, 80.3, 81.9, 85.1, 86.8, 85.9, 81.7, 81.7, 79.3, 77.3, 79.2, 79.9, 82.6, 83.4, 83.9, 82.7, 82.0, 80.3, 79.1, 78.9, 80.0, 78.4, 76.7, 76.6, 75.6, 74.2, 73.5, 71.2, 69.1, 69.9, 67.9, 66.0, 64.4, 62.0, 59.5, 59.5, 56.7, 53.3, 52.5, 49.8, 47.3, 44.2, 39.9, 37.3, 35.6, 31.9, 29.3, 24.8, 21.4, 22.0, 18.7, 19.3, 18.4, 20.3, 19.9, 19.9, 19.5, 19.0, 18.9, 19.3, 18.3, 18.7, 19.1, 17.1, 19.0, 15.8, 16.7, 17.2, 17.0, 15.7, 16.1, 16.2, 16.1, 15.9, 15.9, 16.1, 15.9, 14.3, 14.1, 13.9, 11.8, 9.0, 6.1, 0.0];

const depth = [115.6, 105.7, 99.6, 91.9, 82.8, 77.0, 68.6, 61.4, 55.3, 50.5, 44.5, 42.4, 38.8, 35.4, 30.8, 27.1, 25.1, 25.3, 27.4, 26.4, 25.1, 22.6, 19.7, 17.3, 13.9, 10.4, 7.5, 4.4, 2.7, 2.6, 2.2, 1.8, 1.9, 1.2, 1.5, 2.0, 0.8, 0.0, 1.6, 0.0, 3.2, 6.7, 9.1, 12.1, 15.8, 17.1, 13.9, 10.2, 6.9, 7.4, 6.8, 8.6, 10.9, 14.3, 15.1, 15.5, 16.0, 15.0, 16.1, 17.3, 17.7, 20.2, 23.0, 24.6, 32.3, 33.0, 35.3, 33.7, 30.5, 28.8, 29.7, 33.9, 33.9, 36.3, 38.3, 36.4, 35.7, 33.0, 32.2, 31.7, 32.9, 33.6, 35.3, 36.5, 36.7, 35.6, 37.2, 38.9, 39.0, 40.0, 41.4, 42.1, 44.4, 46.5, 45.7, 47.7, 49.6, 51.2, 53.6, 56.1, 56.1, 58.9, 62.3, 63.1, 65.8, 68.3, 71.4, 75.7, 78.3, 80.0, 83.7, 86.3, 90.8, 94.2, 93.6, 96.9, 96.3, 97.2, 95.3, 95.7, 95.7, 96.1, 96.6, 96.7, 96.3, 97.3, 96.9, 96.5, 98.5, 96.6, 99.8, 98.9, 98.4, 98.6, 99.9, 99.5, 99.4, 99.5, 99.7, 99.7, 99.5, 99.7, 101.3, 101.5, 101.7, 103.8, 106.6, 109.5, 115.6];

const dive_inverse_to_frequency_hash = { 0.0: 110.0, 0.1: 110.0, 0.2: 110.0, 0.3: 110.0, 0.4: 110.0, 0.5: 110.0, 0.6: 110.0, 0.7: 110.0, 0.8: 110.0, 0.9: 110.0, 1.0: 110.0, 1.1: 110.0, 1.2: 110.0, 1.3: 110.0, 1.4: 110.0, 1.5: 110.0, 1.6: 116.6118216, 1.7: 116.6118216, 1.8: 116.6118216, 1.9: 116.6118216, 2.0: 116.6118216, 2.1: 116.6118216, 2.2: 116.6118216, 2.3: 116.6118216, 2.4: 116.6118216, 2.5: 116.6118216, 2.6: 116.6118216, 2.7: 116.6118216, 2.8: 116.6118216, 2.9: 116.6118216, 3.0: 116.6118216, 3.1: 116.6118216, 3.2: 123.62106305, 3.3: 123.62106305, 3.4: 123.62106305, 3.5: 123.62106305, 3.6: 123.62106305, 3.7: 123.62106305, 3.8: 123.62106305, 3.9: 123.62106305, 4.0: 123.62106305, 4.1: 123.62106305, 4.2: 123.62106305, 4.3: 123.62106305, 4.4: 123.62106305, 4.5: 123.62106305, 4.6: 123.62106305, 4.7: 123.62106305, 4.8: 131.05161228, 4.9: 131.05161228, 5.0: 131.05161228, 5.1: 131.05161228, 5.2: 131.05161228, 5.3: 131.05161228, 5.4: 131.05161228, 5.5: 131.05161228, 5.6: 131.05161228, 5.7: 131.05161228, 5.8: 131.05161228, 5.9: 131.05161228, 6.0: 131.05161228, 6.1: 131.05161228, 6.2: 131.05161228, 6.3: 131.05161228, 6.4: 138.92879301, 6.5: 138.92879301, 6.6: 138.92879301, 6.7: 138.92879301, 6.8: 138.92879301, 6.9: 138.92879301, 7.0: 138.92879301, 7.1: 138.92879301, 7.2: 138.92879301, 7.3: 138.92879301, 7.4: 138.92879301, 7.5: 138.92879301, 7.6: 138.92879301, 7.7: 138.92879301, 7.8: 138.92879301, 7.9: 138.92879301, 8.0: 147.27945113, 8.1: 147.27945113, 8.2: 147.27945113, 8.3: 147.27945113, 8.4: 147.27945113, 8.5: 147.27945113, 8.6: 147.27945113, 8.7: 147.27945113, 8.8: 147.27945113, 8.9: 147.27945113, 9.0: 147.27945113, 9.1: 147.27945113, 9.2: 147.27945113, 9.3: 147.27945113, 9.4: 147.27945113, 9.5: 147.27945113, 9.6: 156.13204619, 9.7: 156.13204619, 9.8: 156.13204619, 9.9: 156.13204619, 10.0: 156.13204619, 10.1: 156.13204619, 10.2: 156.13204619, 10.3: 156.13204619, 10.4: 156.13204619, 10.5: 156.13204619, 10.6: 156.13204619, 10.7: 156.13204619, 10.8: 156.13204619, 10.9: 156.13204619, 11.0: 156.13204619, 11.1: 156.13204619, 11.2: 165.51674832, 11.3: 165.51674832, 11.4: 165.51674832, 11.5: 165.51674832, 11.6: 165.51674832, 11.7: 165.51674832, 11.8: 165.51674832, 11.9: 165.51674832, 12.0: 165.51674832, 12.1: 165.51674832, 12.2: 165.51674832, 12.3: 165.51674832, 12.4: 165.51674832, 12.5: 165.51674832, 12.6: 165.51674832, 12.7: 165.51674832, 12.8: 175.46554115, 12.9: 175.46554115, 13.0: 175.46554115, 13.1: 175.46554115, 13.2: 175.46554115, 13.3: 175.46554115, 13.4: 175.46554115, 13.5: 175.46554115, 13.6: 175.46554115, 13.7: 175.46554115, 13.8: 175.46554115, 13.9: 175.46554115, 14.0: 175.46554115, 14.1: 175.46554115, 14.2: 175.46554115, 14.3: 175.46554115, 14.4: 186.01233074, 14.5: 186.01233074, 14.6: 186.01233074, 14.7: 186.01233074, 14.8: 186.01233074, 14.9: 186.01233074, 15.0: 186.01233074, 15.1: 186.01233074, 15.2: 186.01233074, 15.3: 186.01233074, 15.4: 186.01233074, 15.5: 186.01233074, 15.6: 186.01233074, 15.7: 186.01233074, 15.8: 186.01233074, 15.9: 186.01233074, 16.0: 197.19306115, 16.1: 197.19306115, 16.2: 197.19306115, 16.3: 197.19306115, 16.4: 197.19306115, 16.5: 197.19306115, 16.6: 197.19306115, 16.7: 197.19306115, 16.8: 197.19306115, 16.9: 197.19306115, 17.0: 197.19306115, 17.1: 197.19306115, 17.2: 197.19306115, 17.3: 197.19306115, 17.4: 197.19306115, 17.5: 197.19306115, 17.6: 209.04583697, 17.7: 209.04583697, 17.8: 209.04583697, 17.9: 209.04583697, 18.0: 209.04583697, 18.1: 209.04583697, 18.2: 209.04583697, 18.3: 209.04583697, 18.4: 209.04583697, 18.5: 209.04583697, 18.6: 209.04583697, 18.7: 209.04583697, 18.8: 209.04583697, 18.9: 209.04583697, 19.0: 209.04583697, 19.1: 209.04583697, 19.2: 221.61105315, 19.3: 221.61105315, 19.4: 221.61105315, 19.5: 221.61105315, 19.6: 221.61105315, 19.7: 221.61105315, 19.8: 221.61105315, 19.9: 221.61105315, 20.0: 221.61105315, 20.1: 221.61105315, 20.2: 221.61105315, 20.3: 221.61105315, 20.4: 221.61105315, 20.5: 221.61105315, 20.6: 221.61105315, 20.7: 221.61105315, 20.8: 234.93153267, 20.9: 234.93153267, 21.0: 234.93153267, 21.1: 234.93153267, 21.2: 234.93153267, 21.3: 234.93153267, 21.4: 234.93153267, 21.5: 234.93153267, 21.6: 234.93153267, 21.7: 234.93153267, 21.8: 234.93153267, 21.9: 234.93153267, 22.0: 234.93153267, 22.1: 234.93153267, 22.2: 234.93153267, 22.3: 234.93153267, 22.4: 249.0526725, 22.5: 249.0526725, 22.6: 249.0526725, 22.7: 249.0526725, 22.8: 249.0526725, 22.9: 249.0526725, 23.0: 249.0526725, 23.1: 249.0526725, 23.2: 249.0526725, 23.3: 249.0526725, 23.4: 249.0526725, 23.5: 249.0526725, 23.6: 249.0526725, 23.7: 249.0526725, 23.8: 249.0526725, 23.9: 249.0526725, 24.0: 264.02259831, 24.1: 264.02259831, 24.2: 264.02259831, 24.3: 264.02259831, 24.4: 264.02259831, 24.5: 264.02259831, 24.6: 264.02259831, 24.7: 264.02259831, 24.8: 264.02259831, 24.9: 264.02259831, 25.0: 264.02259831, 25.1: 264.02259831, 25.2: 264.02259831, 25.3: 264.02259831, 25.4: 264.02259831, 25.5: 264.02259831, 25.6: 279.89232847, 25.7: 279.89232847, 25.8: 279.89232847, 25.9: 279.89232847, 26.0: 279.89232847, 26.1: 279.89232847, 26.2: 279.89232847, 26.3: 279.89232847, 26.4: 279.89232847, 26.5: 279.89232847, 26.6: 279.89232847, 26.7: 279.89232847, 26.8: 279.89232847, 26.9: 279.89232847, 27.0: 279.89232847, 27.1: 279.89232847, 27.2: 296.71594794, 27.3: 296.71594794, 27.4: 296.71594794, 27.5: 296.71594794, 27.6: 296.71594794, 27.7: 296.71594794, 27.8: 296.71594794, 27.9: 296.71594794, 28.0: 296.71594794, 28.1: 296.71594794, 28.2: 296.71594794, 28.3: 296.71594794, 28.4: 296.71594794, 28.5: 296.71594794, 28.6: 296.71594794, 28.7: 296.71594794, 28.8: 314.5507926, 28.9: 314.5507926, 29.0: 314.5507926, 29.1: 314.5507926, 29.2: 314.5507926, 29.3: 314.5507926, 29.4: 314.5507926, 29.5: 314.5507926, 29.6: 314.5507926, 29.7: 314.5507926, 29.8: 314.5507926, 29.9: 314.5507926, 30.0: 314.5507926, 30.1: 314.5507926, 30.2: 314.5507926, 30.3: 314.5507926, 30.4: 333.45764463, 30.5: 333.45764463, 30.6: 333.45764463, 30.7: 333.45764463, 30.8: 333.45764463, 30.9: 333.45764463, 31.0: 333.45764463, 31.1: 333.45764463, 31.2: 333.45764463, 31.3: 333.45764463, 31.4: 333.45764463, 31.5: 333.45764463, 31.6: 333.45764463, 31.7: 333.45764463, 31.8: 333.45764463, 31.9: 333.45764463, 32.0: 353.50093969, 32.1: 353.50093969, 32.2: 353.50093969, 32.3: 353.50093969, 32.4: 353.50093969, 32.5: 353.50093969, 32.6: 353.50093969, 32.7: 353.50093969, 32.8: 353.50093969, 32.9: 353.50093969, 33.0: 353.50093969, 33.1: 353.50093969, 33.2: 353.50093969, 33.3: 353.50093969, 33.4: 353.50093969, 33.5: 353.50093969, 33.6: 374.74898648, 33.7: 374.74898648, 33.8: 374.74898648, 33.9: 374.74898648, 34.0: 374.74898648, 34.1: 374.74898648, 34.2: 374.74898648, 34.3: 374.74898648, 34.4: 374.74898648, 34.5: 374.74898648, 34.6: 374.74898648, 34.7: 374.74898648, 34.8: 374.74898648, 34.9: 374.74898648, 35.0: 374.74898648, 35.1: 374.74898648, 35.2: 397.27419959, 35.3: 397.27419959, 35.4: 397.27419959, 35.5: 397.27419959, 35.6: 397.27419959, 35.7: 397.27419959, 35.8: 397.27419959, 35.9: 397.27419959, 36.0: 397.27419959, 36.1: 397.27419959, 36.2: 397.27419959, 36.3: 397.27419959, 36.4: 397.27419959, 36.5: 397.27419959, 36.6: 397.27419959, 36.7: 397.27419959, 36.8: 421.15334625, 36.9: 421.15334625, 37.0: 421.15334625, 37.1: 421.15334625, 37.2: 421.15334625, 37.3: 421.15334625, 37.4: 421.15334625, 37.5: 421.15334625, 37.6: 421.15334625, 37.7: 421.15334625, 37.8: 421.15334625, 37.9: 421.15334625, 38.0: 421.15334625, 38.1: 421.15334625, 38.2: 421.15334625, 38.3: 421.15334625, 38.4: 446.46780798, 38.5: 446.46780798, 38.6: 446.46780798, 38.7: 446.46780798, 38.8: 446.46780798, 38.9: 446.46780798, 39.0: 446.46780798, 39.1: 446.46780798, 39.2: 446.46780798, 39.3: 446.46780798, 39.4: 446.46780798, 39.5: 446.46780798, 39.6: 446.46780798, 39.7: 446.46780798, 39.8: 446.46780798, 39.9: 446.46780798, 40.0: 473.30385794, 40.1: 473.30385794, 40.2: 473.30385794, 40.3: 473.30385794, 40.4: 473.30385794, 40.5: 473.30385794, 40.6: 473.30385794, 40.7: 473.30385794, 40.8: 473.30385794, 40.9: 473.30385794, 41.0: 473.30385794, 41.1: 473.30385794, 41.2: 473.30385794, 41.3: 473.30385794, 41.4: 473.30385794, 41.5: 473.30385794, 41.6: 501.75295493, 41.7: 501.75295493, 41.8: 501.75295493, 41.9: 501.75295493, 42.0: 501.75295493, 42.1: 501.75295493, 42.2: 501.75295493, 42.3: 501.75295493, 42.4: 501.75295493, 42.5: 501.75295493, 42.6: 501.75295493, 42.7: 501.75295493, 42.8: 501.75295493, 42.9: 501.75295493, 43.0: 501.75295493, 43.1: 501.75295493, 43.2: 531.91205515, 43.3: 531.91205515, 43.4: 531.91205515, 43.5: 531.91205515, 43.6: 531.91205515, 43.7: 531.91205515, 43.8: 531.91205515, 43.9: 531.91205515, 44.0: 531.91205515, 44.1: 531.91205515, 44.2: 531.91205515, 44.3: 531.91205515, 44.4: 531.91205515, 44.5: 531.91205515, 44.6: 531.91205515, 44.7: 531.91205515, 44.8: 563.88394254, 44.9: 563.88394254, 45.0: 563.88394254, 45.1: 563.88394254, 45.2: 563.88394254, 45.3: 563.88394254, 45.4: 563.88394254, 45.5: 563.88394254, 45.6: 563.88394254, 45.7: 563.88394254, 45.8: 563.88394254, 45.9: 563.88394254, 46.0: 563.88394254, 46.1: 563.88394254, 46.2: 563.88394254, 46.3: 563.88394254, 46.4: 597.77757917, 46.5: 597.77757917, 46.6: 597.77757917, 46.7: 597.77757917, 46.8: 597.77757917, 46.9: 597.77757917, 47.0: 597.77757917, 47.1: 597.77757917, 47.2: 597.77757917, 47.3: 597.77757917, 47.4: 597.77757917, 47.5: 597.77757917, 47.6: 597.77757917, 47.7: 597.77757917, 47.8: 597.77757917, 47.9: 597.77757917, 48.0: 633.70847652, 48.1: 633.70847652, 48.2: 633.70847652, 48.3: 633.70847652, 48.4: 633.70847652, 48.5: 633.70847652, 48.6: 633.70847652, 48.7: 633.70847652, 48.8: 633.70847652, 48.9: 633.70847652, 49.0: 633.70847652, 49.1: 633.70847652, 49.2: 633.70847652, 49.3: 633.70847652, 49.4: 633.70847652, 49.5: 633.70847652, 49.6: 671.79908916, 49.7: 671.79908916, 49.8: 671.79908916, 49.9: 671.79908916, 50.0: 671.79908916, 50.1: 671.79908916, 50.2: 671.79908916, 50.3: 671.79908916, 50.4: 671.79908916, 50.5: 671.79908916, 50.6: 671.79908916, 50.7: 671.79908916, 50.8: 671.79908916, 50.9: 671.79908916, 51.0: 671.79908916, 51.1: 671.79908916, 51.2: 712.17923213, 51.3: 712.17923213, 51.4: 712.17923213, 51.5: 712.17923213, 51.6: 712.17923213, 51.7: 712.17923213, 51.8: 712.17923213, 51.9: 712.17923213, 52.0: 712.17923213, 52.1: 712.17923213, 52.2: 712.17923213, 52.3: 712.17923213, 52.4: 712.17923213, 52.5: 712.17923213, 52.6: 712.17923213, 52.7: 712.17923213, 52.8: 754.98652329, 52.9: 754.98652329, 53.0: 754.98652329, 53.1: 754.98652329, 53.2: 754.98652329, 53.3: 754.98652329, 53.4: 754.98652329, 53.5: 754.98652329, 53.6: 754.98652329, 53.7: 754.98652329, 53.8: 754.98652329, 53.9: 754.98652329, 54.0: 754.98652329, 54.1: 754.98652329, 54.2: 754.98652329, 54.3: 754.98652329, 54.4: 800.36685237, 54.5: 800.36685237, 54.6: 800.36685237, 54.7: 800.36685237, 54.8: 800.36685237, 54.9: 800.36685237, 55.0: 800.36685237, 55.1: 800.36685237, 55.2: 800.36685237, 55.3: 800.36685237, 55.4: 800.36685237, 55.5: 800.36685237, 55.6: 800.36685237, 55.7: 800.36685237, 55.8: 800.36685237, 55.9: 800.36685237, 56.0: 848.47487819, 56.1: 848.47487819, 56.2: 848.47487819, 56.3: 848.47487819, 56.4: 848.47487819, 56.5: 848.47487819, 56.6: 848.47487819, 56.7: 848.47487819, 56.8: 848.47487819, 56.9: 848.47487819, 57.0: 848.47487819, 57.1: 848.47487819, 57.2: 848.47487819, 57.3: 848.47487819, 57.4: 848.47487819, 57.5: 848.47487819, 57.6: 899.47455568, 57.7: 899.47455568, 57.8: 899.47455568, 57.9: 899.47455568, 58.0: 899.47455568, 58.1: 899.47455568, 58.2: 899.47455568, 58.3: 899.47455568, 58.4: 899.47455568, 58.5: 899.47455568, 58.6: 899.47455568, 58.7: 899.47455568, 58.8: 899.47455568, 58.9: 899.47455568, 59.0: 899.47455568, 59.1: 899.47455568, 59.2: 953.5396947, 59.3: 953.5396947, 59.4: 953.5396947, 59.5: 953.5396947, 59.6: 953.5396947, 59.7: 953.5396947, 59.8: 953.5396947, 59.9: 953.5396947, 60.0: 953.5396947, 60.1: 953.5396947, 60.2: 953.5396947, 60.3: 953.5396947, 60.4: 953.5396947, 60.5: 953.5396947, 60.6: 953.5396947, 60.7: 953.5396947, 60.8: 1010.8545524, 60.9: 1010.8545524, 61.0: 1010.8545524, 61.1: 1010.8545524, 61.2: 1010.8545524, 61.3: 1010.8545524, 61.4: 1010.8545524, 61.5: 1010.8545524, 61.6: 1010.8545524, 61.7: 1010.8545524, 61.8: 1010.8545524, 61.9: 1010.8545524, 62.0: 1010.8545524, 62.1: 1010.8545524, 62.2: 1010.8545524, 62.3: 1010.8545524, 62.4: 1071.61446113, 62.5: 1071.61446113, 62.6: 1071.61446113, 62.7: 1071.61446113, 62.8: 1071.61446113, 62.9: 1071.61446113, 63.0: 1071.61446113, 63.1: 1071.61446113, 63.2: 1071.61446113, 63.3: 1071.61446113, 63.4: 1071.61446113, 63.5: 1071.61446113, 63.6: 1071.61446113, 63.7: 1071.61446113, 63.8: 1071.61446113, 63.9: 1071.61446113, 64.0: 1136.02649419, 64.1: 1136.02649419, 64.2: 1136.02649419, 64.3: 1136.02649419, 64.4: 1136.02649419, 64.5: 1136.02649419, 64.6: 1136.02649419, 64.7: 1136.02649419, 64.8: 1136.02649419, 64.9: 1136.02649419, 65.0: 1136.02649419, 65.1: 1136.02649419, 65.2: 1136.02649419, 65.3: 1136.02649419, 65.4: 1136.02649419, 65.5: 1136.02649419, 65.6: 1204.31017154, 65.7: 1204.31017154, 65.8: 1204.31017154, 65.9: 1204.31017154, 66.0: 1204.31017154, 66.1: 1204.31017154, 66.2: 1204.31017154, 66.3: 1204.31017154, 66.4: 1204.31017154, 66.5: 1204.31017154, 66.6: 1204.31017154, 66.7: 1204.31017154, 66.8: 1204.31017154, 66.9: 1204.31017154, 67.0: 1204.31017154, 67.1: 1204.31017154, 67.2: 1276.69820792, 67.3: 1276.69820792, 67.4: 1276.69820792, 67.5: 1276.69820792, 67.6: 1276.69820792, 67.7: 1276.69820792, 67.8: 1276.69820792, 67.9: 1276.69820792, 68.0: 1276.69820792, 68.1: 1276.69820792, 68.2: 1276.69820792, 68.3: 1276.69820792, 68.4: 1276.69820792, 68.5: 1276.69820792, 68.6: 1276.69820792, 68.7: 1276.69820792, 68.8: 1353.43730595, 68.9: 1353.43730595, 69.0: 1353.43730595, 69.1: 1353.43730595, 69.2: 1353.43730595, 69.3: 1353.43730595, 69.4: 1353.43730595, 69.5: 1353.43730595, 69.6: 1353.43730595, 69.7: 1353.43730595, 69.8: 1353.43730595, 69.9: 1353.43730595, 70.0: 1353.43730595, 70.1: 1353.43730595, 70.2: 1353.43730595, 70.3: 1353.43730595, 70.4: 1434.78899694, 70.5: 1434.78899694, 70.6: 1434.78899694, 70.7: 1434.78899694, 70.8: 1434.78899694, 70.9: 1434.78899694, 71.0: 1434.78899694, 71.1: 1434.78899694, 71.2: 1434.78899694, 71.3: 1434.78899694, 71.4: 1434.78899694, 71.5: 1434.78899694, 71.6: 1434.78899694, 71.7: 1434.78899694, 71.8: 1434.78899694, 71.9: 1434.78899694, 72.0: 1521.03053218, 72.1: 1521.03053218, 72.2: 1521.03053218, 72.3: 1521.03053218, 72.4: 1521.03053218, 72.5: 1521.03053218, 72.6: 1521.03053218, 72.7: 1521.03053218, 72.8: 1521.03053218, 72.9: 1521.03053218, 73.0: 1521.03053218, 73.1: 1521.03053218, 73.2: 1521.03053218, 73.3: 1521.03053218, 73.4: 1521.03053218, 73.5: 1521.03053218, 73.6: 1612.45582783, 73.7: 1612.45582783, 73.8: 1612.45582783, 73.9: 1612.45582783, 74.0: 1612.45582783, 74.1: 1612.45582783, 74.2: 1612.45582783, 74.3: 1612.45582783, 74.4: 1612.45582783, 74.5: 1612.45582783, 74.6: 1612.45582783, 74.7: 1612.45582783, 74.8: 1612.45582783, 74.9: 1612.45582783, 75.0: 1612.45582783, 75.1: 1612.45582783, 75.2: 1709.37646661, 75.3: 1709.37646661, 75.4: 1709.37646661, 75.5: 1709.37646661, 75.6: 1709.37646661, 75.7: 1709.37646661, 75.8: 1709.37646661, 75.9: 1709.37646661, 76.0: 1709.37646661, 76.1: 1709.37646661, 76.2: 1709.37646661, 76.3: 1709.37646661, 76.4: 1709.37646661, 76.5: 1709.37646661, 76.6: 1709.37646661, 76.7: 1709.37646661, 76.8: 1812.12275968, 76.9: 1812.12275968, 77.0: 1812.12275968, 77.1: 1812.12275968, 77.2: 1812.12275968, 77.3: 1812.12275968, 77.4: 1812.12275968, 77.5: 1812.12275968, 77.6: 1812.12275968, 77.7: 1812.12275968, 77.8: 1812.12275968, 77.9: 1812.12275968, 78.0: 1812.12275968, 78.1: 1812.12275968, 78.2: 1812.12275968, 78.3: 1812.12275968, 78.4: 1921.04487239, 78.5: 1921.04487239, 78.6: 1921.04487239, 78.7: 1921.04487239, 78.8: 1921.04487239, 78.9: 1921.04487239, 79.0: 1921.04487239, 79.1: 1921.04487239, 79.2: 1921.04487239, 79.3: 1921.04487239, 79.4: 1921.04487239, 79.5: 1921.04487239, 79.6: 1921.04487239, 79.7: 1921.04487239, 79.8: 1921.04487239, 79.9: 1921.04487239, 80.0: 2036.51401762, 80.1: 2036.51401762, 80.2: 2036.51401762, 80.3: 2036.51401762, 80.4: 2036.51401762, 80.5: 2036.51401762, 80.6: 2036.51401762, 80.7: 2036.51401762, 80.8: 2036.51401762, 80.9: 2036.51401762, 81.0: 2036.51401762, 81.1: 2036.51401762, 81.2: 2036.51401762, 81.3: 2036.51401762, 81.4: 2036.51401762, 81.5: 2036.51401762, 81.6: 2158.92372092, 81.7: 2158.92372092, 81.8: 2158.92372092, 81.9: 2158.92372092, 82.0: 2158.92372092, 82.1: 2158.92372092, 82.2: 2158.92372092, 82.3: 2158.92372092, 82.4: 2158.92372092, 82.5: 2158.92372092, 82.6: 2158.92372092, 82.7: 2158.92372092, 82.8: 2158.92372092, 82.9: 2158.92372092, 83.0: 2158.92372092, 83.1: 2158.92372092, 83.2: 2288.69116167, 83.3: 2288.69116167, 83.4: 2288.69116167, 83.5: 2288.69116167, 83.6: 2288.69116167, 83.7: 2288.69116167, 83.8: 2288.69116167, 83.9: 2288.69116167, 84.0: 2288.69116167, 84.1: 2288.69116167, 84.2: 2288.69116167, 84.3: 2288.69116167, 84.4: 2288.69116167, 84.5: 2288.69116167, 84.6: 2288.69116167, 84.7: 2288.69116167, 84.8: 2426.25859486, 84.9: 2426.25859486, 85.0: 2426.25859486, 85.1: 2426.25859486, 85.2: 2426.25859486, 85.3: 2426.25859486, 85.4: 2426.25859486, 85.5: 2426.25859486, 85.6: 2426.25859486, 85.7: 2426.25859486, 85.8: 2426.25859486, 85.9: 2426.25859486, 86.0: 2426.25859486, 86.1: 2426.25859486, 86.2: 2426.25859486, 86.3: 2426.25859486, 86.4: 2572.09485828, 86.5: 2572.09485828, 86.6: 2572.09485828, 86.7: 2572.09485828, 86.8: 2572.09485828, 86.9: 2572.09485828, 87.0: 2572.09485828, 87.1: 2572.09485828, 87.2: 2572.09485828, 87.3: 2572.09485828, 87.4: 2572.09485828, 87.5: 2572.09485828, 87.6: 2572.09485828, 87.7: 2572.09485828, 87.8: 2572.09485828, 87.9: 2572.09485828, 88.0: 2726.69697039, 88.1: 2726.69697039, 88.2: 2726.69697039, 88.3: 2726.69697039, 88.4: 2726.69697039, 88.5: 2726.69697039, 88.6: 2726.69697039, 88.7: 2726.69697039, 88.8: 2726.69697039, 88.9: 2726.69697039, 89.0: 2726.69697039, 89.1: 2726.69697039, 89.2: 2726.69697039, 89.3: 2726.69697039, 89.4: 2726.69697039, 89.5: 2726.69697039, 89.6: 2890.59182417, 89.7: 2890.59182417, 89.8: 2890.59182417, 89.9: 2890.59182417, 90.0: 2890.59182417, 90.1: 2890.59182417, 90.2: 2890.59182417, 90.3: 2890.59182417, 90.4: 2890.59182417, 90.5: 2890.59182417, 90.6: 2890.59182417, 90.7: 2890.59182417, 90.8: 2890.59182417, 90.9: 2890.59182417, 91.0: 2890.59182417, 91.1: 2890.59182417, 91.2: 3064.3379828, 91.3: 3064.3379828, 91.4: 3064.3379828, 91.5: 3064.3379828, 91.6: 3064.3379828, 91.7: 3064.3379828, 91.8: 3064.3379828, 91.9: 3064.3379828, 92.0: 3064.3379828, 92.1: 3064.3379828, 92.2: 3064.3379828, 92.3: 3064.3379828, 92.4: 3064.3379828, 92.5: 3064.3379828, 92.6: 3064.3379828, 92.7: 3064.3379828, 92.8: 3248.52758329, 92.9: 3248.52758329, 93.0: 3248.52758329, 93.1: 3248.52758329, 93.2: 3248.52758329, 93.3: 3248.52758329, 93.4: 3248.52758329, 93.5: 3248.52758329, 93.6: 3248.52758329, 93.7: 3248.52758329, 93.8: 3248.52758329, 93.9: 3248.52758329, 94.0: 3248.52758329, 94.1: 3248.52758329, 94.2: 3248.52758329, 94.3: 3248.52758329, 94.4: 3443.78835449, 94.5: 3443.78835449, 94.6: 3443.78835449, 94.7: 3443.78835449, 94.8: 3443.78835449, 94.9: 3443.78835449, 95.0: 3443.78835449, 95.1: 3443.78835449, 95.2: 3443.78835449, 95.3: 3443.78835449, 95.4: 3443.78835449, 95.5: 3443.78835449, 95.6: 3443.78835449, 95.7: 3443.78835449, 95.8: 3443.78835449, 95.9: 3443.78835449, 96.0: 3650.78575645, 96.1: 3650.78575645, 96.2: 3650.78575645, 96.3: 3650.78575645, 96.4: 3650.78575645, 96.5: 3650.78575645, 96.6: 3650.78575645, 96.7: 3650.78575645, 96.8: 3650.78575645, 96.9: 3650.78575645, 97.0: 3650.78575645, 97.1: 3650.78575645, 97.2: 3650.78575645, 97.3: 3650.78575645, 97.4: 3650.78575645, 97.5: 3650.78575645, 97.6: 3870.22524835, 97.7: 3870.22524835, 97.8: 3870.22524835, 97.9: 3870.22524835, 98.0: 3870.22524835, 98.1: 3870.22524835, 98.2: 3870.22524835, 98.3: 3870.22524835, 98.4: 3870.22524835, 98.5: 3870.22524835, 98.6: 3870.22524835, 98.7: 3870.22524835, 98.8: 3870.22524835, 98.9: 3870.22524835, 99.0: 3870.22524835, 99.1: 3870.22524835, 99.2: 4102.85469271, 99.3: 4102.85469271, 99.4: 4102.85469271, 99.5: 4102.85469271, 99.6: 4102.85469271, 99.7: 4102.85469271, 99.8: 4102.85469271, 99.9: 4102.85469271, 100.0: 4102.85469271, 100.1: 4102.85469271, 100.2: 4102.85469271, 100.3: 4102.85469271, 100.4: 4102.85469271, 100.5: 4102.85469271, 100.6: 4102.85469271, 100.7: 4102.85469271, 100.8: 4349.46690421, 100.9: 4349.46690421, 101.0: 4349.46690421, 101.1: 4349.46690421, 101.2: 4349.46690421, 101.3: 4349.46690421, 101.4: 4349.46690421, 101.5: 4349.46690421, 101.6: 4349.46690421, 101.7: 4349.46690421, 101.8: 4349.46690421, 101.9: 4349.46690421, 102.0: 4349.46690421, 102.1: 4349.46690421, 102.2: 4349.46690421, 102.3: 4349.46690421, 102.4: 4610.90235157, 102.5: 4610.90235157, 102.6: 4610.90235157, 102.7: 4610.90235157, 102.8: 4610.90235157, 102.9: 4610.90235157, 103.0: 4610.90235157, 103.1: 4610.90235157, 103.2: 4610.90235157, 103.3: 4610.90235157, 103.4: 4610.90235157, 103.5: 4610.90235157, 103.6: 4610.90235157, 103.7: 4610.90235157, 103.8: 4610.90235157, 103.9: 4610.90235157, 104.0: 4888.052022, 104.1: 4888.052022, 104.2: 4888.052022, 104.3: 4888.052022, 104.4: 4888.052022, 104.5: 4888.052022, 104.6: 4888.052022, 104.7: 4888.052022, 104.8: 4888.052022, 104.9: 4888.052022, 105.0: 4888.052022, 105.1: 4888.052022, 105.2: 4888.052022, 105.3: 4888.052022, 105.4: 4888.052022, 105.5: 4888.052022, 105.6: 5181.86045767, 105.7: 5181.86045767, 105.8: 5181.86045767, 105.9: 5181.86045767, 106.0: 5181.86045767, 106.1: 5181.86045767, 106.2: 5181.86045767, 106.3: 5181.86045767, 106.4: 5181.86045767, 106.5: 5181.86045767, 106.6: 5181.86045767, 106.7: 5181.86045767, 106.8: 5181.86045767, 106.9: 5181.86045767, 107.0: 5181.86045767, 107.1: 5181.86045767, 107.2: 5493.3289748, 107.3: 5493.3289748, 107.4: 5493.3289748, 107.5: 5493.3289748, 107.6: 5493.3289748, 107.7: 5493.3289748, 107.8: 5493.3289748, 107.9: 5493.3289748, 108.0: 5493.3289748, 108.1: 5493.3289748, 108.2: 5493.3289748, 108.3: 5493.3289748, 108.4: 5493.3289748, 108.5: 5493.3289748, 108.6: 5493.3289748, 108.7: 5493.3289748, 108.8: 5823.51907618, 108.9: 5823.51907618, 109.0: 5823.51907618, 109.1: 5823.51907618, 109.2: 5823.51907618, 109.3: 5823.51907618, 109.4: 5823.51907618, 109.5: 5823.51907618, 109.6: 5823.51907618, 109.7: 5823.51907618, 109.8: 5823.51907618, 109.9: 5823.51907618, 110.0: 5823.51907618, 110.1: 5823.51907618, 110.2: 5823.51907618, 110.3: 5823.51907618, 110.4: 6173.55606887, 110.5: 6173.55606887, 110.6: 6173.55606887, 110.7: 6173.55606887, 110.8: 6173.55606887, 110.9: 6173.55606887, 111.0: 6173.55606887, 111.1: 6173.55606887, 111.2: 6173.55606887, 111.3: 6173.55606887, 111.4: 6173.55606887, 111.5: 6173.55606887, 111.6: 6173.55606887, 111.7: 6173.55606887, 111.8: 6173.55606887, 111.9: 6173.55606887, 112.0: 6544.63289926, 112.1: 6544.63289926, 112.2: 6544.63289926, 112.3: 6544.63289926, 112.4: 6544.63289926, 112.5: 6544.63289926, 112.6: 6544.63289926, 112.7: 6544.63289926, 112.8: 6544.63289926, 112.9: 6544.63289926, 113.0: 6544.63289926, 113.1: 6544.63289926, 113.2: 6544.63289926, 113.3: 6544.63289926, 113.4: 6544.63289926, 113.5: 6544.63289926, 113.6: 6938.01421875, 113.7: 6938.01421875, 113.8: 6938.01421875, 113.9: 6938.01421875, 114.0: 6938.01421875, 114.1: 6938.01421875, 114.2: 6938.01421875, 114.3: 6938.01421875, 114.4: 6938.01421875, 114.5: 6938.01421875, 114.6: 6938.01421875, 114.7: 6938.01421875, 114.8: 6938.01421875, 114.9: 6938.01421875, 115.0: 6938.01421875, 115.1: 6938.01421875, 115.2: 6938.01421875, 115.3: 6938.01421875, 115.4: 6938.01421875, 115.5: 6938.01421875, 115.6: 6938.01421875 }

const evil_third_down = {
    110.: 110.,
    116.6118216: 110.,
    123.62106305: 110.,
    131.05161228: 110.,
    138.92879301: 110.,
    147.27945113: 116.6118216,
    156.13204619: 123.62106305,
    165.51674832: 131.05161228,
    175.46554115: 138.92879301,
    186.01233074: 147.27945113,
    197.19306115: 156.13204619,
    209.04583697: 165.51674832,
    221.61105315: 175.46554115,
    234.93153267: 186.01233074,
    249.0526725: 197.19306115,
    264.02259831: 209.04583697,
    279.89232847: 221.61105315,
    296.71594794: 234.93153267,
    314.5507926: 249.0526725,
    333.45764463: 264.02259831,
    353.50093969: 279.89232847,
    374.74898648: 296.71594794,
    397.27419959: 314.5507926,
    421.15334625: 333.45764463,
    446.46780798: 353.50093969,
    473.30385794: 374.74898648,
    501.75295493: 397.27419959,
    531.91205515: 421.15334625,
    563.88394254: 446.46780798,
    597.77757917: 473.30385794,
    633.70847652: 501.75295493,
    671.79908916: 531.91205515,
    712.17923213: 563.88394254,
    754.98652329: 597.77757917,
    800.36685237: 633.70847652,
    848.47487819: 671.79908916,
    899.47455568: 712.17923213,
    953.5396947: 754.98652329,
    1010.8545524: 800.36685237,
    1071.61446113: 848.47487819,
    1136.02649419: 899.47455568,
    1204.31017154: 953.5396947,
    1276.69820792: 1010.8545524,
    1353.43730595: 1071.61446113,
    1434.78899694: 1136.02649419,
    1521.03053218: 1204.31017154,
    1612.45582783: 1276.69820792,
    1709.37646661: 1353.43730595,
    1812.12275968: 1434.78899694,
    1921.04487239: 1521.03053218,
    2036.51401762: 1612.45582783,
    2158.92372092: 1709.37646661,
    2288.69116167: 1812.12275968,
    2426.25859486: 1921.04487239,
    2572.09485828: 2036.51401762,
    2726.69697039: 2158.92372092,
    2890.59182417: 2288.69116167,
    3064.3379828: 2426.25859486,
    3248.52758329: 2572.09485828,
    3443.78835449: 2726.69697039,
    3650.78575645: 2890.59182417,
    3870.22524835: 3064.3379828,
    4102.85469271: 3248.52758329,
    4349.46690421: 3443.78835449,
    4610.90235157: 3650.78575645,
    4888.052022: 3870.22524835,
    5181.86045767: 4102.85469271,
    5493.3289748: 4349.46690421,
    5823.51907618: 4610.90235157,
    6173.55606887: 4888.052022,
    6544.63289926: 5181.86045767,
    6938.01421875: 5493.3289748,
}

const third_down = {
    110.: 110.,
    116.6118216: 110.,
    123.62106305: 110.,
    131.05161228: 110.,
    138.92879301: 116.6118216,
    147.27945113: 123.62106305,
    156.13204619: 131.05161228,
    165.51674832: 138.92879301,
    175.46554115: 147.27945113,
    186.01233074: 156.13204619,
    197.19306115: 165.51674832,
    209.04583697: 175.46554115,
    221.61105315: 186.01233074,
    234.93153267: 197.19306115,
    249.0526725: 209.04583697,
    264.02259831: 221.61105315,
    279.89232847: 234.93153267,
    296.71594794: 249.0526725,
    314.5507926: 264.02259831,
    333.45764463: 279.89232847,
    353.50093969: 296.71594794,
    374.74898648: 314.5507926,
    397.27419959: 333.45764463,
    421.15334625: 353.50093969,
    446.46780798: 374.74898648,
    473.30385794: 397.27419959,
    501.75295493: 421.15334625,
    531.91205515: 446.46780798,
    563.88394254: 473.30385794,
    597.77757917: 501.75295493,
    633.70847652: 531.91205515,
    671.79908916: 563.88394254,
    712.17923213: 597.77757917,
    754.98652329: 633.70847652,
    800.36685237: 671.79908916,
    848.47487819: 712.17923213,
    899.47455568: 754.98652329,
    953.5396947: 800.36685237,
    1010.8545524: 848.47487819,
    1071.61446113: 899.47455568,
    1136.02649419: 953.5396947,
    1204.31017154: 1010.8545524,
    1276.69820792: 1071.61446113,
    1353.43730595: 1136.02649419,
    1434.78899694: 1204.31017154,
    1521.03053218: 1276.69820792,
    1612.45582783: 1353.43730595,
    1709.37646661: 1434.78899694,
    1812.12275968: 1521.03053218,
    1921.04487239: 1612.45582783,
    2036.51401762: 1709.37646661,
    2158.92372092: 1812.12275968,
    2288.69116167: 1921.04487239,
    2426.25859486: 2036.51401762,
    2572.09485828: 2158.92372092,
    2726.69697039: 2288.69116167,
    2890.59182417: 2426.25859486,
    3064.3379828: 2572.09485828,
    3248.52758329: 2726.69697039,
    3443.78835449: 2890.59182417,
    3650.78575645: 3064.3379828,
    3870.22524835: 3248.52758329,
    4102.85469271: 3443.78835449,
    4349.46690421: 3650.78575645,
    4610.90235157: 3870.22524835,
    4888.052022: 4102.85469271,
    5181.86045767: 4349.46690421,
    5493.3289748: 4610.90235157,
    5823.51907618: 4888.052022,
    6173.55606887: 5181.86045767,
    6544.63289926: 5493.3289748,
    6938.01421875: 5823.51907618,
}

const fifth_down = {
    110.: 110.,
    116.6118216: 110.,
    123.62106305: 110.,
    131.05161228: 110.,
    138.92879301: 110.,
    147.27945113: 110.,
    156.13204619: 110.,
    165.51674832: 110.,
    175.46554115: 116.6118216,
    186.01233074: 123.62106305,
    197.19306115: 131.05161228,
    209.04583697: 138.92879301,
    221.61105315: 147.27945113,
    234.93153267: 156.13204619,
    249.0526725: 165.51674832,
    264.02259831: 175.46554115,
    279.89232847: 186.01233074,
    296.71594794: 197.19306115,
    314.5507926: 209.04583697,
    333.45764463: 221.61105315,
    353.50093969: 234.93153267,
    374.74898648: 249.0526725,
    397.27419959: 264.02259831,
    421.15334625: 279.89232847,
    446.46780798: 296.71594794,
    473.30385794: 314.5507926,
    501.75295493: 333.45764463,
    531.91205515: 353.50093969,
    563.88394254: 374.74898648,
    597.77757917: 397.27419959,
    633.70847652: 421.15334625,
    671.79908916: 446.46780798,
    712.17923213: 473.30385794,
    754.98652329: 501.75295493,
    800.36685237: 531.91205515,
    848.47487819: 563.88394254,
    899.47455568: 597.77757917,
    953.5396947: 633.70847652,
    1010.8545524: 671.79908916,
    1071.61446113: 712.17923213,
    1136.02649419: 754.98652329,
    1204.31017154: 800.36685237,
    1276.69820792: 848.47487819,
    1353.43730595: 899.47455568,
    1434.78899694: 953.5396947,
    1521.03053218: 1010.8545524,
    1612.45582783: 1071.61446113,
    1709.37646661: 1136.02649419,
    1812.12275968: 1204.31017154,
    1921.04487239: 1276.69820792,
    2036.51401762: 1353.43730595,
    2158.92372092: 1434.78899694,
    2288.69116167: 1521.03053218,
    2426.25859486: 1612.45582783,
    2572.09485828: 1709.37646661,
    2726.69697039: 1812.12275968,
    2890.59182417: 1921.04487239,
    3064.3379828: 2036.51401762,
    3248.52758329: 2158.92372092,
    3443.78835449: 2288.69116167,
    3650.78575645: 2426.25859486,
    3870.22524835: 2572.09485828,
    4102.85469271: 2726.69697039,
    4349.46690421: 2890.59182417,
    4610.90235157: 3064.3379828,
    4888.052022: 3248.52758329,
    5181.86045767: 3443.78835449,
    5493.3289748: 3650.78575645,
    5823.51907618: 3870.22524835,
    6173.55606887: 4102.85469271,
    6544.63289926: 4349.46690421,
    6938.01421875: 4610.90235157,
}

const fileInput = document.getElementById('file-input');
const canvas = document.getElementById('canvas');
let ctx = canvas.getContext('2d');

// add background gradient
var grd = ctx.createLinearGradient(0, 200, 0, 0);
grd.addColorStop(1, "LightBlue");
grd.addColorStop(0.95, "DeepSkyBlue");
grd.addColorStop(0.5, "Blue");
grd.addColorStop(0.0, "Navy");
ctx.fillStyle = grd;
ctx.fillRect(0, 0, 1600, 1000); // top left, bottom right

// add this in if you want the circles permanently that color
// ctx.globalCompositeOperation = 'destination-over'
// ctx.fillStyle = "blue";

const notes = [];

// create AudioContext
const audioContext = new (window.AudioContext || window.webkitAudioContext)();
const tempo = 1000; // in milliseconds. increase number to increase speed

async function run() {
    // draw color images side by side
    canvas.width = 2000;
    canvas.height = 2000;

    // canvas
    ctx.beginPath();
    ctx.moveTo(0, 0);
}

// add an event listener to the file input element
fileInput.addEventListener('change', (event) => {
    // get the file from the file input element
    let file = event.target.files[0];

    // create a new file reader
    let reader = new FileReader();

    // add an event listener to the file reader
    reader.addEventListener('load', async (event) => {

        // get the JSON string from the file reader
        const jsonString = event.target.result;
        const data = JSON.parse(jsonString);
        const { depth = [] } = data;

        // canvas
        ctx.beginPath();
        ctx.moveTo(0, 0);

        const duration = 0.2;

        // diving depth = r, g, and b
        for (let i = 0; i < depth.length; i++) {
            // const depth_inverse = ((Math.round(115.6 - depth[i]) * 10) / 10);
            // const depth_inverse = (((115.6 - depth[i]) * 10) / 10);
            const depth_inverse = parseFloat((115.6 - depth[i]).toFixed(1));
            // 105.69999999999999
            console.log("depth[i]", depth[i]);
            console.log("depth_inverse", depth_inverse);
            let r = dive_inverse_to_frequency_hash[depth_inverse];
            console.log("r", r);
            // play with the duration
            // if they're low notes, then make them sound longer
            // if rgb > the low beats, but < the mid notes, duration = longer than 0.1

            await playChord(r, duration); // removed await
            drawLine(i, drawing_depth[i]);
        }

    });

    // read the file as text
    reader.readAsText(file);
});

async function playChord(frequency, duration) {
    playNote(fifth_down[frequency], duration, "c"); // C
    playNote(third_down[frequency], duration, "e"); // E
    await playNote(frequency, duration, "g"); // G
}

function playNote(frequency, duration, oscillator_type) {
    console.log("playing note freq ", frequency, "duration ", duration);
    const gainNode = new GainNode(audioContext);

    const oscillator = audioContext.createOscillator();

    // at high tones, only sine and triangle sound fine. 
    // at low tones, including sawtooth and square sounds fine.
    if ((oscillator_type == "c") & (frequency <= 220)) { oscillator.type = 'sawtooth' }
    if ((oscillator_type == "c") & (frequency > 220)) { oscillator.type = 'sine' }
    if ((oscillator_type == "e")) { oscillator.type = 'sine' }
    if (oscillator_type == "g") { oscillator.type = 'triangle' };
    // oscillator.type = 'sine'; // there's sine, square, sawtooth, triangle

    oscillator.frequency.value = frequency; // value in hertz
    oscillator.connect(gainNode).connect(audioContext.destination);

    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
    oscillator.start(); // note starts here

    const notePromise = new Promise(function (resolve, ) {
        setTimeout(() => {
            console.log("fading out note ", frequency, "audioContext.currentTime ", audioContext.currentTime);
            gainNode.gain.setTargetAtTime(0, audioContext.currentTime, .025)
        }, duration * 0.8 * 1000); // fade at the halfway point of duration
        setTimeout(() => { // stops after the duration # of time. asynchronous.
            oscillator.stop();
            resolve(); // promise is done; hooray.
        }, duration * 1000); // stop after full duration
    });

    return notePromise;
}

function drawLine(x, y) {
    ctx.strokeStyle = `rgb(0, ${Math.floor(255 - 2.21 * y)}, ${Math.floor(255 - 2.21 * y)})`;
    // ctx.lineTo((x + 1) * 5, y);
    ctx.arc((2 * x + 1) * 5, 5 * y + 50, 10, 0, 2 * Math.PI);
    ctx.stroke();
}
